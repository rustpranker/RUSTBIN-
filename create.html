                    <!DOCTYPE html>
                    <html lang="en">
                    <head>
                      <meta charset="UTF-8" />
                      <meta name="viewport" content="width=device-width, initial-scale=1" />
                      <title>Create Paste - Rustbin</title>

                      <link rel="stylesheet" href="style.css" />

                      <!-- Firebase SDK -->
                      <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
                      <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
                      <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>

                      <script src="firebase-config.js"></script>

                      <style>
                        body {
                          background-color: #000;
                          color: white;
                          font-family: Arial, sans-serif;
                          margin: 0; padding: 0;
                          display: flex;
                          justify-content: center;
                          align-items: flex-start;
                          min-height: 100vh;
                          padding-top: 50px;
                        }

                        .create-container {
                          background-color: #111;
                          padding: 30px;
                          border-radius: 8px;
                          width: 400px;
                          box-shadow: 0 0 20px red;
                        }

                        h1.gradient-text {
                          font-size: 36px;
                          font-weight: bold;
                          background: linear-gradient(270deg, red, white, red);
                          background-size: 400% 400%;
                          -webkit-background-clip: text;
                          -webkit-text-fill-color: transparent;
                          animation: gradientMove 4s ease infinite;
                          margin-bottom: 20px;
                          text-align: center;
                        }
                        @keyframes gradientMove {
                          0% { background-position: 0% 50%; }
                          50% { background-position: 100% 50%; }
                          100% { background-position: 0% 50%; }
                        }

                        input[type="text"], textarea {
                          width: 100%;
                          padding: 12px;
                          margin: 10px 0;
                          border-radius: 5px;
                          border: none;
                          outline: none;
                          font-size: 16px;
                          font-family: monospace;
                          background-color: #222;
                          color: white;
                          resize: vertical;
                        }
                        textarea {
                          height: 150px;
                        }

                        label {
                          display: flex;
                          align-items: center;
                          font-size: 14px;
                          margin-top: 10px;
                          user-select: none;
                        }
                        label input[type="checkbox"] {
                          margin-right: 8px;
                          transform: scale(1.3);
                          cursor: pointer;
                        }

                        button {
                          background-color: red;
                          color: white;
                          font-weight: bold;
                          border: none;
                          border-radius: 6px;
                          padding: 12px 0;
                          width: 100%;
                          cursor: pointer;
                          margin-top: 20px;
                          font-size: 18px;
                          transition: background-color 0.3s;
                        }
                        button:hover {
                          background-color: #c00;
                        }

                        #status-message {
                          margin-top: 12px;
                          font-weight: bold;
                          font-family: monospace;
                          text-align: center;
                        }
                        #status-message.success {
                          color: #28a745;
                        }
                        #status-message.error {
                          color: #dc3545;
                        }

                        .back-button {
                          margin-top: 15px;
                          text-align: center;
                        }
                        .back-button button {
                          background-color: #222;
                          border: 1px solid red;
                          color: red;
                          padding: 8px 20px;
                          border-radius: 5px;
                          cursor: pointer;
                          font-weight: bold;
                          transition: background-color 0.3s;
                        }
                        .back-button button:hover {
                          background-color: red;
                          color: black;
                        }
                      </style>
                    </head>
                    <body>

                      <div class="create-container">
                        <h1 class="gradient-text">Create New Paste</h1>
                        <input type="text" id="paste-title" placeholder="Paste title" />
                        <textarea id="paste-content" placeholder="Paste content..."></textarea>
                        <label>
                          <input type="checkbox" id="anonymous-checkbox" /> Post anonymously
                        </label>
                        <button onclick="createPaste()">Publish</button>
                        <div id="status-message"></div>

                        <div class="back-button">
                          <button onclick="goHome()">← Back to Home</button>
                        </div>
                      </div>

                      <script>
                        const auth = firebase.auth();
                        const db = firebase.firestore();

                        function goHome() {
                          window.location.href = "index.html";
                        }

                        async function createPaste() {
                          const title = document.getElementById('paste-title').value.trim();
                          const content = document.getElementById('paste-content').value.trim();
                          const anonymous = document.getElementById('anonymous-checkbox').checked;
                          const statusMessage = document.getElementById('status-message');

                          if (!title || !content) {
                            statusMessage.textContent = "Title and content cannot be empty.";
                            statusMessage.className = "error";
                            return;
                          }

                          statusMessage.textContent = "Publishing...";
                          statusMessage.className = "";

                          try {
                            const docRef = await db.collection('pastes').add({
                              title,
                              content,
                              anonymous,
                              createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                              author: anonymous ? null : (auth.currentUser ? auth.currentUser.uid : null),
                            });

                            statusMessage.textContent = "Paste published! ID: " + docRef.id;
                            statusMessage.className = "success";

                            // Можно добавить переход на страницу просмотра
                            // window.location.href = `paste.html?id=${docRef.id}`;
                          } catch (error) {
                            statusMessage.textContent = "Error: " + error.message;
                            statusMessage.className = "error";
                          }
                        }

                        // Обеспечиваем доступность функций из HTML кнопок
                        window.createPaste = createPaste;
                        window.goHome = goHome;
                      </script>
                    </body>
                    </html>
